//
// Piranha CMS
// Copyright (c) 2014, Håkan Edling, All rights reserved.
//
// This library is free software; you can redistribute it and/or
// modify it under the terms of the GNU Lesser General Public
// License as published by the Free Software Foundation; either
// version 3.0 of the License, or (at your option) any later version.
//
// This library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
// Lesser General Public License for more details.
//
// You should have received a copy of the GNU Lesser General Public
// License along with this library.
//

@import "colors.less";
@import "mixins.less";

.table {
	thead {
		tr {
			th {
				background: @list-color-head;
				padding: 12px 20px;
				font-family: "Open Sans", Arial;

				&.actions {
					&.one {
						width: 32px;
					}
					&.two {
						width: 64px;
					}
					&.three {
						width: 96px;
					}
				}

				.sort {
					cursor: pointer;

					&::after {
						display: inline-block;
						padding-left: 4px;
						font-family: "Glyphicons Halflings";
						font-style: normal;
						font-weight: 400;
						font-size: 12px;
						line-height: 1;
						position: relative;
						top: 1px;
						-moz-osx-font-smoothing: grayscale;
					}

					&.asc::after {
						content: "";
					}
					&.desc::after {
						content: "";
					}
				}
			}
		}
	}
	>tbody {
		>tr {
			>td {
				padding: 10px 20px;
				border-top: 4px solid @bg-color;

				&.actions {
					a {
						display: inline-block;
						width: 16px;
						height: 16px;

						&.delete {
							background: url('../img/ico-delete-16.png') 0 0 no-repeat;
						}
						&.down {
							background: url('../img/ico-arrow-down-16.png') 0 0 no-repeat;
						}
						&.up {
							background: url('../img/ico-arrow-up-16.png') 0 0 no-repeat;
						}
					}
				}

				p.meta {
					color: @text-color-light;
					margin: 4px 0 0;
				}
			}

			&.detail {
				display: none;

				>td {
					border: 0;
				}
			}

			&.unpublished {
				.meta {
					color: #f0ad4e;
				}
			}

			&.saved {
				>td {
					background: @saved-color !important;
					.transition(background, 0.2s);
				}
			}
			&.post-saved {
				>td {
					background: #fff;
					.transition(background, 0.4s);
				}
			}
		}
	}
	.date {
		width: 114px;
	}
	.well {
		margin-top: 10px;
		margin-bottom: 0;
	}

	&.table-main {
		tr {
			td {
				vertical-align: middle;
			} 

			&:hover {
				td {
					background: #fafafa;
				}
			}
		}

		a {
			font-family: "Open Sans", Arial;
			font-size: 16px;
		}
	}

	.gravatar {
		width: 40px;
		margin-right: 10px;
		.border-radius(20px);
	}
}

.panel {
	.table {
		margin-bottom: 0;

		thead {
			tr {
				th {
					background: transparent;
					border-bottom: solid 4px @form-color;
				}
			}
		}
	}
}

.table-striped {
	>tbody {
		>tr:nth-child(2n+1) {
			>td {
				background-color: #fff;
			}

			&.active {
				>td {
					background-color: @list-color-active;
				}
			}
		}
		>tr:nth-child(2n) {
			>td {
				background-color: #fff;
			}

			&.active {
				>td {
					background-color: @list-color-active;
				}
			}
		}
	}
}

.form {
	label.label-small {
		font-size: 12px;
	}
	label.label-up {
		text-transform: uppercase;
	}

	.form-group {
		border-color: @border-color;
		border-style: solid;
		border-width: 0 0 1px 0;
		margin-bottom: 20px;
		position: relative;

		&.has-error {
			border-color: #e88;
		}

		// Form controls
		.form-control {
			height: auto;
			border: 0 none;
			font-size: 18px;
			box-shadow: none;
			.border-radius(0);

			&.input-validation-error {
				border: 1px solid #e88;
				padding: 5px 12px;
			}

			&.title {
				font-size: 26px;
				color: #222;
			}

			&.meta {
				font-size: 14px;
			}

			&.count-me + p {
				background: #ddd;
				color: #999;
				font-size: 12px;
				padding: 4px 12px;
				margin: 0;
				text-align: right;
				text-transform: uppercase;
			}
		}

		textarea {
			resize: none;
		}

		// Validation messages
		.field-validation-error {
			display: block;
			background: #333;
			color: #fff;
			padding: 4px 10px;
			font-size: 13px;
			position: absolute;
			top: -12px;
			right: -8px;
			opacity: 0.9;
			.border-radius(3px);
		}
		
		.form-control-feedback {
			top: 0;
		}

		// Select2 box
		.select2-container {
			width: 100%;

			&.select2-container-multi {
				.select2-choices {
					background-image: none;
					border: 0 none;
					padding: 2px 5px 0;

					.select2-search-choice {
						color: #fff;
						background: #444;
						border-color: #444;
						box-shadow: none;
						margin: 4px 2px 0 12px;
						font-size: 10px;
						text-transform: uppercase;

						.select2-search-choice-close {
							top: 2px;
						}

						&:before {
							content: "";
							position: absolute;
							top: 0;
							left: -20px;
							width: 0;
							height: 0;
							border: 10px solid transparent;
							border-right-color: #444;
						}
					}
				}
			}
		}

		// TinyMCE editor
		.mce-tinymce {
			border: 0 none !important;

			.mce-panel {
				background: #fff;
				background-image: none;

				.mce-btn {
					background: transparent;
					background-image: none;
					border: 0 none;
					box-shadow: none;

					.mce-ico {
						font-size: 14px;
					}
				}
			}

			.mce-edit-area {
				border-top: 0 none;
			}
		}
	}

	.panel-white, .table {
		.form-group {
			border: 0;

			input, select {
				background: #eee;
				border-bottom: 1px solid @border-color;

				&::-webkit-input-placeholder,
				&:-moz-placeholder,
				&::-moz-placeholder,
				&:-ms-input-placeholder {  
					color: #ccc;
				}

				&:focus {
					background: #dee;
				}
			}

			textarea {
				background: #eee;
			}
		}
	}

	.table {
		.form-group {
			margin-bottom: 0;

			input, select, textarea {
				font-size: 14px;
			}
		}
	}
}

.btn {
	.border-radius(0);

	&.btn-primary {
		background: @link-color;
		border-color: @link-color;
		color: #fff;
	}

	&.btn-success {
		background: @success-color;
		border-color: @success-color;
		color: #fff;
	}
}

.btn-label {
	.border-radius(0);
}

.col-sm-12.buttons {
	text-align: right;
	margin-top: -50px;

	.dropdown-menu {
		text-align: left;
	}
}
